# Отчёт о разворачивании `traefik`

**Дата:** 2025-11-25

## Краткое резюме
- `traefik` используется как обратный прокси / ingress. Как правило, разворачивается из официального образа `traefik:v2` и конфигурируется через `traefik.yml` / динамическую конфигурацию.

## Команды для воспроизведения

1) Поднять traefik:

```bash
docker compose up -d traefik
docker compose logs --tail 200 traefik
```

2) Проверка:

```bash
# проверить отладочный endpoint
curl -fsS http://localhost:8080
```

## Особенности prod-развёртывания
- Настройте entrypoints и провайдеры (docker, file).
- Настройте HTTPS (Let's Encrypt) или используйте внешний TLS через Traefik.
- Если используете Traefik в одном docker compose, убедитесь, что у него доступ к docker socket (опасно для prod) или используйте file provider.

## Рекомендации
- В production, избегайте монтирования `docker.sock` в traefik в публичных окружениях.
- Используйте file provider + динамическую конфигурацию и разделение на staging/prod.

---

**Статус:** `traefik` — инфраструктурный компонент; сборка не требуется.

**Текущий статус (25.11.2025):** `quark-traefik` — Running.

Примечание: если порт 80 занят на хосте (например, запущен `apache2`), `traefik` не сможет пробиндить 80:80. В тестовой сессии я временно остановил `apache2`, поднял `traefik` и убедился, что он стартует. В production не рекомендую останавливаться на хостовом Apache — лучше корректно настроить порты/прокси.
